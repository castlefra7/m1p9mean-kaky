"use strict";(self.webpackChunkfront_e_kaly=self.webpackChunkfront_e_kaly||[]).push([[793],{8793:(C,c,o)=>{o.r(c),o.d(c,{SigninModule:()=>v});var p=o(9808),i=o(3075),l=o(4106),u=o(0),n=o(5e3),f=o(2891),m=o(9224),g=o(7531),d=o(7423);const h=function(){return["/signup"]},S=[{path:"",component:(()=>{class t{constructor(e,a,r){this.auth=e,this.fb=a,this.route=r,this.form=a.group({name:["",i.kI.required],password:["",i.kI.required]})}ngOnInit(){}onSubmit(){const{name:e,password:a}=this.form.value;this.auth.login(e,a).subscribe({next:r=>{localStorage.setItem("auth",JSON.stringify(r)),localStorage.setItem("token",r.token),0===r.role?this.route.navigateByUrl("/admin"):1===r.role?this.route.navigateByUrl("/ordering"):2===r.role?this.route.navigateByUrl("/restaurant"):3===r.role&&this.route.navigateByUrl("/deliver")},error:r=>alert(r.error.message),complete:()=>console.info("complete")})}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(f.e),n.Y36(i.qu),n.Y36(u.F0))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-signin"]],decls:21,vars:3,consts:[[1,"dish-form"],[3,"formGroup","ngSubmit"],["appearance","standard"],["matInput","","placeholder","nom...","formControlName","name"],["matInput","","type","password","placeholder","mot de passe...","formControlName","password"],["mat-raised-button","","color","primary"],["mat-raised-button","",3,"routerLink"]],template:function(e,a){1&e&&(n.TgZ(0,"div",0)(1,"form",1),n.NdJ("ngSubmit",function(){return a.onSubmit()}),n.TgZ(2,"mat-card")(3,"mat-card-title"),n._uU(4," Se connecter "),n.qZA(),n.TgZ(5,"mat-card-content")(6,"div")(7,"mat-form-field",2)(8,"mat-label"),n._uU(9,"Nom"),n.qZA(),n._UZ(10,"input",3),n.qZA()(),n.TgZ(11,"div")(12,"mat-form-field",2)(13,"mat-label"),n._uU(14,"Mot de passe"),n.qZA(),n._UZ(15,"input",4),n.qZA()()(),n.TgZ(16,"mat-card-actions")(17,"button",5),n._uU(18,"Valider"),n.qZA(),n.TgZ(19,"a",6),n._uU(20,"S'inscrire"),n.qZA()()()()()),2&e&&(n.xp6(1),n.Q6J("formGroup",a.form),n.xp6(18),n.Q6J("routerLink",n.DdM(2,h)))},directives:[i._Y,i.JL,i.sg,m.a8,m.n5,m.dn,l.KE,l.hX,g.Nt,i.Fj,i.JJ,i.u,m.hq,d.lW,d.zs,u.yS],styles:["button[_ngcontent-%COMP%]{margin:0 7px}@media only screen and (max-width: 600px){.dish-form[_ngcontent-%COMP%]{width:100%;text-align:center;margin:0 auto}}@media only screen and (min-width: 600px){.dish-form[_ngcontent-%COMP%]{width:50%;text-align:center;margin:0 auto}}@media only screen and (min-width: 768px){.dish-form[_ngcontent-%COMP%]{width:30%;text-align:center;margin:0 auto}}@media only screen and (min-width: 992px){.dish-form[_ngcontent-%COMP%]{width:30%;text-align:center;margin:0 auto}}"]}),t})()}];let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[{provide:l.o2,useValue:{appearance:"fill"}}],imports:[[u.Bz.forChild(S)],u.Bz]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({providers:[i.qu],imports:[[p.ez,i.UX,y,l.lN,g.c,d.ot,m.QW]]}),t})()}}]);