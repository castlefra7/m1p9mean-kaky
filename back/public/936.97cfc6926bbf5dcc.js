"use strict";(self.webpackChunkfront_e_kaly=self.webpackChunkfront_e_kaly||[]).push([[936],{936:(v,c,r)=>{r.r(c),r.d(c,{SignupModule:()=>C});var g=r(9808),i=r(3075),m=r(4106),p=r(7531),d=r(7423),u=r(9224),l=r(0),t=r(5e3),f=r(2891);const h=function(){return["/signin"]},S=[{path:"",component:(()=>{class n{constructor(o,a,e){this.auth=o,this.fb=a,this.route=e,this.form=a.group({name:["",i.kI.required],password:["",i.kI.required]})}ngOnInit(){}onSubmit(){const{name:o,password:a}=this.form.value;this.auth.signup(o,a).subscribe({next:e=>{console.log(e),localStorage.setItem("auth",JSON.stringify(e)),localStorage.setItem("token",e.token),console.log(e),0===e.role?this.route.navigateByUrl("/admin"):1===e.role?this.route.navigateByUrl("/ordering"):2===e.role?this.route.navigateByUrl("/restaurant"):3===e.role&&this.route.navigateByUrl("/deliver")},error:e=>{console.log(e),e.error.message?alert(e.error.message):11e3===e.error.code&&alert("Ce nom d'utilisateur est d\xe9j\xe0 pris.")},complete:()=>console.info("complete")})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(f.e),t.Y36(i.qu),t.Y36(l.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-signup"]],decls:20,vars:3,consts:[[1,"dish-form",3,"formGroup","ngSubmit"],["appearance","standard"],["matInput","","placeholder","nom...","formControlName","name"],["matInput","","type","password","placeholder","mot de passe...","formControlName","password"],["mat-raised-button","","color","primary"],["mat-raised-button","",3,"routerLink"]],template:function(o,a){1&o&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(1,"mat-card")(2,"mat-card-title"),t._uU(3," S'inscrire "),t.qZA(),t.TgZ(4,"mat-card-content")(5,"div")(6,"mat-form-field",1)(7,"mat-label"),t._uU(8,"Nom"),t.qZA(),t._UZ(9,"input",2),t.qZA()(),t.TgZ(10,"div")(11,"mat-form-field",1)(12,"mat-label"),t._uU(13,"Mot de passe"),t.qZA(),t._UZ(14,"input",3),t.qZA()()(),t.TgZ(15,"mat-card-actions")(16,"button",4),t._uU(17,"Valider"),t.qZA(),t.TgZ(18,"a",5),t._uU(19,"Se connecter"),t.qZA()()()()),2&o&&(t.Q6J("formGroup",a.form),t.xp6(18),t.Q6J("routerLink",t.DdM(2,h)))},directives:[i._Y,i.JL,i.sg,u.a8,u.n5,u.dn,m.KE,m.hX,p.Nt,i.Fj,i.JJ,i.u,u.hq,d.lW,d.zs,l.yS],styles:["button[_ngcontent-%COMP%]{margin:0 7px}@media only screen and (max-width: 600px){.dish-form[_ngcontent-%COMP%]{width:100%;text-align:center;margin:0 auto}}@media only screen and (min-width: 600px){.dish-form[_ngcontent-%COMP%]{width:50%;text-align:center;margin:0 auto}}@media only screen and (min-width: 768px){.dish-form[_ngcontent-%COMP%]{width:30%;text-align:center;margin:0 auto}}@media only screen and (min-width: 992px){.dish-form[_ngcontent-%COMP%]{width:30%;text-align:center;margin:0 auto}}"]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:m.o2,useValue:{appearance:"fill"}}],imports:[[l.Bz.forChild(S)],l.Bz]}),n})(),C=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.ez,i.UX,y,m.lN,p.c,d.ot,u.QW]]}),n})()}}]);