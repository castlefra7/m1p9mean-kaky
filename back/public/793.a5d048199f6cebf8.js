"use strict";(self.webpackChunkfront_e_kaly=self.webpackChunkfront_e_kaly||[]).push([[793],{8793:(v,m,i)=>{i.r(m),i.d(m,{SigninModule:()=>S});var f=i(9808),e=i(3075),l=i(4106),u=i(0),t=i(5e3),g=i(2891),p=i(7531),d=i(7423);const c=[{path:"",component:(()=>{class n{constructor(o,a,r){this.auth=o,this.fb=a,this.route=r,this.form=a.group({name:["",e.kI.required],password:["",e.kI.required]})}ngOnInit(){}onSubmit(){const{name:o,password:a}=this.form.value;this.auth.login(o,a).subscribe({next:r=>{localStorage.setItem("auth",JSON.stringify(r)),localStorage.setItem("token",r.token),0===r.role?this.route.navigateByUrl("/admin"):1===r.role?this.route.navigateByUrl("/ordering"):2===r.role?this.route.navigateByUrl("/restaurant"):3===r.role&&this.route.navigateByUrl("/deliver")},error:r=>console.error(r),complete:()=>console.info("complete")})}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(g.e),t.Y36(e.qu),t.Y36(u.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-signin"]],decls:19,vars:1,consts:[[1,"dish-form"],[3,"formGroup","ngSubmit"],["appearance","standard"],["matInput","","placeholder","nom...","formControlName","name"],["matInput","","type","password","placeholder","mot de passe...","formControlName","password"],["mat-raised-button","","color","primary"],["mat-raised-button",""]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"form",1),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(2,"h2"),t._uU(3,"Se connecter"),t.qZA(),t.TgZ(4,"p")(5,"mat-form-field",2)(6,"mat-label"),t._uU(7,"Nom"),t.qZA(),t._UZ(8,"input",3),t.qZA()(),t.TgZ(9,"p")(10,"mat-form-field",2)(11,"mat-label"),t._uU(12,"Mot de passe"),t.qZA(),t._UZ(13,"input",4),t.qZA()(),t.TgZ(14,"p")(15,"button",5),t._uU(16,"Valider"),t.qZA(),t.TgZ(17,"button",6),t._uU(18,"Annuler"),t.qZA()()()()),2&o&&(t.xp6(1),t.Q6J("formGroup",a.form))},directives:[e._Y,e.JL,e.sg,l.KE,l.hX,p.Nt,e.Fj,e.JJ,e.u,d.lW],styles:[""]}),n})()}];let h=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[{provide:l.o2,useValue:{appearance:"fill"}}],imports:[[u.Bz.forChild(c)],u.Bz]}),n})(),S=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[e.qu],imports:[[f.ez,e.UX,h,l.lN,p.c,d.ot]]}),n})()}}]);